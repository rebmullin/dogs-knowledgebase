let configSettings=window.config||null;const DOG_IMAGE_PLACEHOLDER="https://placedog.net/300/190?random";let dogs=function(e){const o=e?e.CLIENT_ID:null,t=e?e.CLIENT_SECRET:null,n="https://api.petfinder.com/v2/animals?breed=Bichon Frise",s="https://api.petfinder.com/v2/oauth2/token";function a(){$("body .spinner-border").remove()}function r(){return Cookies.get("token")?Promise.resolve(Cookies.get("token")):$.ajax({url:s,type:"POST",data:`grant_type=client_credentials&client_id=${o}&client_secret=${t}`,success:e=>{const{access_token:o}=e;return Cookies.set("token",o,{expires:1/24}),o},error:e=>{console.error(e),$("body").append(`<div class="loading-error"><p>oh no!!!!!</p><p>${e&&e.responseJON&&e.responseJSON.detail}</p></div>`),Cookies.remove("token"),a()}})}return{loadDogs:function(){$("body").append('<div class="spinner-border text-primary" role="status"><span class="sr-only">Loading...</span></div>'),r().then(e=>{$.ajax({url:n,type:"GET",crossDomain:!0,beforeSend:o=>{let t=e;"object"==typeof e&&(t=e.access_token),o.setRequestHeader("Authorization",`Bearer ${t}`)},success:e=>{const{animals:o}=e;o.forEach((e,o)=>{!function(e,o){$(".dog-display .list-group").append(`<button data-toggle="modal" data-name="${o}"\n      data-target="#dog-${o}" class="list-item-group m-3 btn btn-primary">${e.name}</button>`)}(e,o)}),$(".list-item-group").on("click",function(){const e=$(this).data("name");!function(e,o){$(".modal").attr("id",`dog-${o}`);const t=$(".modal-header");t.find(".modal-header__title").remove(),t.prepend(`<h4 class="modal-header__title text-center">${e.name}</h4>`);const n=$(".modal-body");n.empty();const s=e.photos.length?e.photos[0].medium:DOG_IMAGE_PLACEHOLDER,a=s===DOG_IMAGE_PLACEHOLDER?"placeholder":"";n.append(`<span class="d-flex mx-auto m-3 ${a}"><img class="rounded d-block mx-auto" src="${s}" alt="${e.name}" /></span>`),e.description&&n.append(`<p>${e.description}</p>`),n.append(`<a class="text-align" href="${e.url}">Find out more about ${e.name} here!</a>`)}(o[e],e)})},error:e=>{console.error(e),$("body").append(`<div class="loading-error"><p>oh no!!</p><p>${e.statusText}</p></div>`),Cookies.remove("token"),r()},complete:function(){a()}})})}}}(configSettings);configSettings?dogs.loadDogs():$("body").append('<div class="loading-error"><p>oh no!!</p><p>Sorry, you do not have access to this API!</p></div>');